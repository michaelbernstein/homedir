set visualbell
set textwidth=1000 "should be 79
set showmatch
set showmode
set ignorecase
set backspace=2
set tabstop=4
set shiftwidth=4
set softtabstop=4
set modeline

set smartcase
set hidden
set history=1000
set scrolloff=2
set incsearch
set hlsearch

set mouse=a

" see :help smartindent for inoremap details
set smartindent
set smarttab
set expandtab

" turn off annoying X-window title renaming
" handle window crap
set notitle
set ruler
set laststatus=2
set autochdir
"
set nobackup
set writebackup

" Want the current line hilighted
set cursorline

" :fixdel

" xml-plugin opts before ftplugins turned on
let xml_use_html = 1

filetype plugin on

autocmd!
syntax on
autocmd BufNewFile,BufRead *.js			so $HOME/.vim/javascript.vim|set list listchars=tab:>>
autocmd BufNewFile,BufRead *.c,*.h		so $HOME/.vim/c.vim|set nolist
"autocmd BufNewFile,BufRead *rockhopper*/*.c,*rockhopper*/*.h,*nvkernel*/*.c,*nvkernel*/*.h		so $HOME/.vim/c_linux.vim|set nolist
autocmd BufNewFile,BufRead *.lsp,*.lisp		so $VIMRUNTIME/syntax/lisp.vim|set nolist
autocmd BufNewFile,BufRead *.lsp,*.lisp		so $HOME/.vim/lsp.vim|set nolist
autocmd BufNewFile,BufRead Make*,make*		so $HOME/.vim/Make.vim|set nolist
autocmd BufNewFile,BufRead mutt*,*letter*	so $HOME/.vim/mail.vim|set nolist
autocmd BufNewFile,BufRead *.rsc,*.rcp		so $VIMRUNTIME/syntax/rc.vim
autocmd BufNewFile,BufRead *.*sql*,*.dump	so $HOME/.vim/sql.vim|set nolist
autocmd BufNewFile,BufRead *.*sql*,*.dump	so $VIMRUNTIME/syntax/sql.vim|set nolist
autocmd BufNewFile,BufRead *.php,*.inc		so $VIMRUNTIME/syntax/php.vim|set nolist
autocmd BufNewFile,BufRead *.php,*.inc		so $HOME/.vim/php.vim|set nolist
autocmd BufNewFile,BufRead *.pl,*.perl		so $HOME/.vim/perl.vim|set nolist
autocmd BufNewFile,BufRead *.py,SConstruct	so $HOME/.vim/python.vim|set list listchars=tab:>>
autocmd BufNewFile,BufRead *.pyx,*.pxd		so $HOME/.vim/pyrex.vim|set list listchars=tab:>>

" according to smartindent help, this makes comments align as i wish
inoremap # X#

map <C-k> :tabp<CR>
map <C-j> :tabn<CR>
map ,e :tabnew <C-R>=expand("%:p:h") . "/"<CR>
"map - :bprevious<CR>
"map = :bnext<CR>

" http://www.vim.org/tips/tip.php?tip_id=94
set tags=tags;/

" CTL-left does close
map O5D :fold

" CTL-right does open
map O5C :foldopen!

" set foldmethod=manual

" Make colors mesh with gvime and other things I like
hi Comment ctermfg=Cyan
hi PreProc ctermfg=Cyan
hi Statement ctermfg=Yellow
hi Type ctermfg=40
hi Constant ctermfg=200 cterm=NONE
hi LineTooLong cterm=reverse term=reverse
hi TrailingWhitespace ctermbg=red term=underline
hi CursorLine term=bold cterm=NONE ctermbg=233
hi vimOption ctermfg=Blue
hi Search NONE
hi Search term=reverse cterm=reverse
hi Pmenu ctermbg=165
hi PmenuSel ctermbg=200
let python_highlight_all = 1

" Have the status line show the filename, whether or not it's modified,
" read-only, a help buffer, and type on the left. Show line number, column
" number, and percentage through file on right
set statusline=%F%m%r%h%y%=%l,%v\ [%p%%]

" Setup hilighting for certain line conditions
au BufWinEnter * let w:m1=matchadd('LineTooLong', '\%>80v.\+', -1)
au BufWinEnter * let w:m2=matchadd('TrailingWhitespace', '\s\+\%#\@<!$', -1)

" General settings for miniBufExplorer (gvim overrides some of these)
"let g:miniBufExplMapWindowNavVim = 1
let g:miniBufExplModSelTarget = 1
let g:miniBufExplorerMoreThanOne = 100
"let g:miniBufExplForceSyntaxEnable = 1
"let g:miniBufExplorerDebugLevel=10
"let g:miniBufExplorerDebugMode=2

" Setup NERDTree and Taglist
nnoremap <silent> <F6> :NERDTreeToggle<CR>
nnoremap <silent> <F5> :TlistToggle<CR>

let NERDTreeWinPos = "right"
let NERDTreeWinSize = 45

let Tlist_WinWidth = 45
let Tlist_File_Fold_Auto_Close = 1
